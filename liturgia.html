<div id="liturgia">
  <p>Carregando liturgiaâ€¦</p>
</div>

<script>
async function carregarLiturgia() {
  const hoje = new Date().toISOString().split("T")[0];

  const url =
    "https://api.allorigins.win/raw?url=" +
    encodeURIComponent(
      "https://cpbjr.github.io/catholic-readings-api/readings/" + hoje
    );

  try {
    const res = await fetch(url);
    const data = await res.json();

    document.getElementById("liturgia").innerHTML = `
      <h2>Liturgia de ${data.date}</h2>

      <h3>Primeira Leitura</h3>
      <p><strong>${data.first_reading.reference}</strong></p>
      <p>${data.first_reading.text}</p>

      <h3>Salmo</h3>
      <p><strong>${data.psalm.reference}</strong></p>
      <p>${data.psalm.text}</p>

      <h3>Evangelho</h3>
      <p><strong>${data.gospel.reference}</strong></p>
      <p>${data.gospel.text}</p>
    `;
  } catch (e) {
    document.getElementById("liturgia").innerHTML =
      "<p>Erro ao carregar a liturgia.</p>";
    console.error(e);
  }
}

carregarLiturgia();
</script>
