<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Santa Teresinha ‚Äì Jardim</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  overflow: hidden;
  font-family: Arial, sans-serif;
  background: #0f1a2b;
}

/* HUD DIREITA */
#hud {
  position: fixed;
  top: 50%;
  right: 15px;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.6);
  padding: 14px;
  border-radius: 12px;
  color: #fff;
  width: 180px;
}

.stat {
  margin-bottom: 8px;
  font-size: 14px;
}

.upgrade {
  background: linear-gradient(135deg, #b77cff, #7c4dff);
  border: none;
  border-radius: 10px;
  padding: 10px;
  margin-top: 8px;
  color: white;
  cursor: pointer;
  font-size: 13px;
}

.upgrade:hover {
  filter: brightness(1.1);
}

.upgrade:disabled {
  background: #555;
  cursor: not-allowed;
}

/* MAPA */
#viewport {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

#mapa {
  width: 2200px;
  height: 1400px;
  background: url("cenario.png") center/cover;
  position: relative;
  transform-origin: 0 0;
}

/* SANTA */
#santa {
  position: absolute;
  width: 90px;
  left: 1100px;
  top: 900px;
  transition: 2s linear;
  cursor: pointer;
}

/* FLOR */
.flower {
  position: absolute;
  width: 32px;
  height: 32px;
  background: url("flor.png") center/contain no-repeat;
  opacity: 0.3;
  transform: scale(0.4);
  transition: all 0.5s;
  pointer-events: none;
}

.flower.ready {
  opacity: 1;
  transform: scale(1);
  pointer-events: auto;
  cursor: pointer;
}
</style>
</head>

<body>

<!-- HUD -->
<div id="hud">
  <div class="stat">üå∏ Flores: <span id="flores">0</span></div>
  <div class="stat">üëÜ Clique: <span id="porClique">1</span></div>
  <div class="stat">‚è± Auto: <span id="auto">0</span>/s</div>
  <div class="stat">üíê Valor flor: <span id="valorFlor">5</span></div>

  <button class="upgrade" id="btnClique"></button>
  <button class="upgrade" id="btnAuto"></button>
  <button class="upgrade" id="btnFlor"></button>
</div>

<!-- MAPA -->
<div id="viewport">
  <div id="mapa">
    <img src="santa.png" id="santa">
  </div>
</div>

<script>
/* ===== ESTADO ===== */
let flores = 0;
let porClique = 1;
let auto = 0;
let valorFlor = 5;

let custoClique = 10;
let custoAuto = 20;
let custoFlor = 30;

/* LIMITES DE MOVIMENTO (CH√ÉO) */
const LIMITE_TOPO = 650;
const LIMITE_BAIXO = 1250;

/* ELEMENTOS */
const floresEl = document.getElementById("flores");
const porCliqueEl = document.getElementById("porClique");
const autoEl = document.getElementById("auto");
const valorFlorEl = document.getElementById("valorFlor");

const btnClique = document.getElementById("btnClique");
const btnAuto = document.getElementById("btnAuto");
const btnFlor = document.getElementById("btnFlor");

const mapa = document.getElementById("mapa");
const santa = document.getElementById("santa");

/* HUD */
function atualizarHUD() {
  floresEl.textContent = flores;
  porCliqueEl.textContent = porClique;
  autoEl.textContent = auto;
  valorFlorEl.textContent = valorFlor;

  btnClique.textContent = `Upar clique (${custoClique})`;
  btnAuto.textContent = `Upar auto (${custoAuto})`;
  btnFlor.textContent = `Upar flor (${custoFlor})`;

  btnClique.disabled = flores < custoClique;
  btnAuto.disabled = flores < custoAuto;
  btnFlor.disabled = flores < custoFlor;

  salvar();
}

/* CLIQUE */
santa.onclick = () => {
  flores += porClique;
  atualizarHUD();
};

/* UPGRADES */
btnClique.onclick = () => {
  flores -= custoClique;
  porClique++;
  custoClique = Math.floor(custoClique * 1.5);
  atualizarHUD();
};

btnAuto.onclick = () => {
  flores -= custoAuto;
  auto++;
  custoAuto = Math.floor(custoAuto * 1.6);
  atualizarHUD();
};

btnFlor.onclick = () => {
  flores -= custoFlor;
  valorFlor += 2;
  custoFlor = Math.floor(custoFlor * 1.7);
  atualizarHUD();
};

/* AUTO */
setInterval(() => {
  flores += auto;
  atualizarHUD();
}, 1000);

/* FLORES NO MAPA */
function spawnFlor() {
  const flor = document.createElement("div");
  flor.className = "flower";

  flor.style.left = Math.random() * 2000 + "px";
  flor.style.top = (Math.random() * (LIMITE_BAIXO - LIMITE_TOPO) + LIMITE_TOPO) + "px";

  mapa.appendChild(flor);

  setTimeout(() => {
    flor.classList.add("ready");
    flor.onclick = () => {
      flores += valorFlor;
      atualizarHUD();
      flor.remove();
    };
  }, 5000);
}

setInterval(spawnFlor, 9000);

/* MOVIMENTO DA SANTA (CH√ÉO APENAS) */
setInterval(() => {
  const x = Math.random() * 2000;
  const y = Math.random() * (LIMITE_BAIXO - LIMITE_TOPO) + LIMITE_TOPO;
  santa.style.left = x + "px";
  santa.style.top = y + "px";
}, 4500);

/* SALVAR */
function salvar() {
  localStorage.setItem("save", JSON.stringify({
    flores, porClique, auto, valorFlor,
    custoClique, custoAuto, custoFlor
  }));
}

function carregar() {
  const s = JSON.parse(localStorage.getItem("save"));
  if (!s) return;
  Object.assign(window, s);
  atualizarHUD();
}

carregar();
</script>

</body>
</html>
