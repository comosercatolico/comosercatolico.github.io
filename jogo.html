<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Mapa em Tiles – Biblioteca Detalhada</title>

<style>
body {
  margin: 0;
  overflow: hidden;
  background: #1f1f1f;
}

#game {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  cursor: grab;
}
#game:active { cursor: grabbing; }

#camera {
  position: absolute;
  width: 3000px;
  height: 3000px;
}

/* ===== TILE BASE ===== */
.tile {
  position: absolute;
  width: 32px;
  height: 32px;
  image-rendering: pixelated;
}

/* ===== MAPA ===== */
.grass {
  background: #6dbb63;
}

/* ===== BIBLIOTECA ===== */

/* Pedra base */
.stone {
  background: #9a9a9a;
  box-shadow: inset 0 0 0 1px #7a7a7a;
}

/* Degrau */
.step {
  background: linear-gradient(#8a8a8a, #6f6f6f);
}

/* Parede */
.wall {
  background: #e6d8b5;
  box-shadow: inset 0 0 0 1px #c4b28c;
}

/* Coluna */
.column {
  background: linear-gradient(
    to right,
    #bfa97a,
    #f1e4c1,
    #bfa97a
  );
}

/* Porta */
.door {
  background: linear-gradient(#5a3a1a, #3e2612);
  box-shadow: inset 0 0 0 2px #2a190c;
}

/* Telhado */
.roof {
  background: #b25538;
  box-shadow: inset 0 0 0 1px #8a3b26;
}

/* Beiral */
.roofEdge {
  background: #8a3b26;
}

/* Sombra */
.shadow {
  background: rgba(0,0,0,0.28);
}
</style>
</head>

<body>
<div id="game">
  <div id="camera"></div>
</div>

<script>
const camera = document.getElementById("camera");
const TILE = 32;

/* ===== MAPA BASE ===== */
for (let y = 0; y < 80; y++) {
  for (let x = 0; x < 80; x++) {
    tile(x, y, "grass");
  }
}

/* ===== FUNÇÃO TILE ===== */
function tile(x, y, type) {
  const t = document.createElement("div");
  t.className = "tile " + type;
  t.style.left = x * TILE + "px";
  t.style.top = y * TILE + "px";
  camera.appendChild(t);
}

/* ===== BIBLIOTECA DETALHADA ===== */
const bx = 5;
const by = 5;

/* Base de pedra */
for (let y = 12; y < 17; y++)
  for (let x = 0; x < 18; x++)
    tile(bx + x, by + y, "stone");

/* Escadaria */
for (let x = 6; x < 12; x++)
  tile(bx + x, by + 17, "step");

/* Fachada */
for (let x = 2; x < 16; x++)
  tile(bx + x, by + 11, "wall");

for (let y = 12; y < 15; y++) {
  tile(bx + 2, by + y, "wall");
  tile(bx + 15, by + y, "wall");
}

/* Porta */
tile(bx + 8, by + 14, "door");
tile(bx + 9, by + 14, "door");

/* Colunas duplas */
tile(bx + 4, by + 12, "column");
tile(bx + 4, by + 13, "column");
tile(bx + 13, by + 12, "column");
tile(bx + 13, by + 13, "column");

/* Telhado com beiral */
for (let y = 0; y < 6; y++) {
  for (let x = y; x < 18 - y; x++) {
    tile(
      bx + x,
      by + y,
      y === 0 ? "roofEdge" : "roof"
    );
  }
}

/* Sombra frontal */
for (let x = 3; x < 15; x++)
  tile(bx + x, by + 17, "shadow");

/* ===== ARRASTAR CÂMERA ===== */
let drag = false;
let sx = 0, sy = 0;
let cx = 0, cy = 0;

game.addEventListener("mousedown", e => {
  drag = true;
  sx = e.clientX;
  sy = e.clientY;
});

window.addEventListener("mouseup", () => drag = false);

window.addEventListener("mousemove", e => {
  if (!drag) return;
  cx += e.clientX - sx;
  cy += e.clientY - sy;
  sx = e.clientX;
  sy = e.clientY;
  camera.style.transform = `translate(${cx}px, ${cy}px)`;
});
</script>
</body>
</html>
