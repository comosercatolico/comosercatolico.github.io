<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Jardim de Santa Teresinha</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  overflow: hidden;
  font-family: Arial, sans-serif;
  image-rendering: pixelated;
}

#game {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background: #000;
  cursor: grab;
}
#game:active { cursor: grabbing; }

/* C√ÇMERA */
#camera {
  position: absolute;
  width: 1600px;
  height: 1600px;
}

/* MAPA */
#mapa {
  position: absolute;
  width: 1600px;
  height: 1600px;
}

.tile {
  position: absolute;
  width: 32px;
  height: 32px;
}

/* ===== PIXEL TILES ===== */

/* grama varia√ß√µes */
.grama0 { background:#4fa64f; }
.grama1 { background:#4b9f4b; }
.grama2 { background:#55ad55; }

/* detalhe da grama */
.grama0::after,
.grama1::after,
.grama2::after {
  content:"";
  position:absolute;
  inset:0;
  background:
    repeating-linear-gradient(
      45deg,
      rgba(0,0,0,0.05) 0 2px,
      transparent 2px 4px
    );
}

/* caminho (cruz) */
.caminho {
  background:#c2a36b;
  box-shadow: inset 0 0 0 1px #9c7b45;
}

/* ===== BIBLIOTECA PIXEL ===== */
.bib-parede {
  background:#8b5a2b;
}
.bib-telhado {
  background:#5a2e14;
}
.bib-porta {
  background:#3b1f0e;
}
.bib-janela {
  background:#d9cfa3;
  box-shadow: inset 0 0 0 2px #6b4b2a;
}

/* SANTA */
#santa {
  position: absolute;
  width: 32px;
  height: 32px;
  left: 800px;
  top: 800px;
  background: #ff77aa;
  z-index: 10;
}

/* FLOR */
.flor {
  position: absolute;
  width: 16px;
  height: 16px;
  background:#ff4fa3;
  border-radius: 50%;
  cursor: pointer;
  z-index: 6;
}

/* HUD */
#hud {
  position: fixed;
  top: 16px;
  left: 16px;
  background: rgba(255,255,255,0.9);
  padding: 10px;
  border-radius: 6px;
  z-index: 20;
  font-size: 14px;
}

/* UPGRADES */
#upgrades {
  position: fixed;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 20;
}

button {
  padding: 8px;
  border: none;
  border-radius: 6px;
  background: #7b4bb7;
  color: white;
  font-weight: bold;
  cursor: pointer;
}
</style>
</head>

<body>

<div id="game">
  <div id="camera">
    <div id="mapa"></div>
    <div id="santa"></div>
  </div>
</div>

<div id="hud">
  üå∏ <span id="flores">0</span><br>
  üëÜ <span id="porClique">1</span><br>
  ‚è± <span id="auto">0</span>
</div>

<div id="upgrades">
  <button onclick="uparClique()">Clique üå∏10</button>
  <button onclick="uparAuto()">Auto üå∏20</button>
  <button onclick="uparFlor()">Flor üå∏30</button>
</div>

<script>
/* ===== CONFIG ===== */
const TILE = 32;
const MAP = 50;
const mapaEl = document.getElementById("mapa");

/* ===== MAPA PIXEL ===== */
function renderMapa() {
  for (let y = 0; y < MAP; y++) {
    for (let x = 0; x < MAP; x++) {
      const t = document.createElement("div");

      const g = Math.floor(Math.random()*3);
      t.className = `tile grama${g}`;

      if (x === Math.floor(MAP/2) || y === Math.floor(MAP/2)) {
        t.className = "tile caminho";
      }

      t.style.left = x*TILE+"px";
      t.style.top = y*TILE+"px";
      mapaEl.appendChild(t);
    }
  }
}
renderMapa();

/* ===== BIBLIOTECA (TILES) ===== */
function biblioteca(x,y) {
  const layout = [
    " TTT ",
    " PPP ",
    " PJJP",
    " PPP "
  ];

  layout.forEach((row, ry) => {
    [...row].forEach((c, rx) => {
      if (c === " ") return;
      const t = document.createElement("div");
      t.classList.add("tile");

      if (c==="T") t.classList.add("bib-telhado");
      if (c==="P") t.classList.add("bib-parede");
      if (c==="J") t.classList.add("bib-janela");

      t.style.left = (x+rx)*TILE+"px";
      t.style.top = (y+ry)*TILE+"px";
      mapaEl.appendChild(t);
    });
  });
}
biblioteca(1,1);

/* ===== FLORES / CLICKER ===== */
let flores=0, porClique=1, auto=0, valorFlor=3;

const fEl = document.getElementById("flores");
const pEl = document.getElementById("porClique");
const aEl = document.getElementById("auto");

function atualizar(){
  fEl.textContent=flores;
  pEl.textContent=porClique;
  aEl.textContent=auto;
}
atualizar();

game.onclick = e=>{
  if(e.target.classList.contains("flor")) return;
  flores+=porClique; atualizar();
};

function criarFlor(){
  if(Math.random()>0.4)return;
  const f=document.createElement("div");
  f.className="flor";
  f.style.left=Math.random()*1600+"px";
  f.style.top=Math.random()*1600+"px";
  f.onclick=e=>{
    e.stopPropagation();
    flores+=valorFlor;
    f.remove(); atualizar();
  };
  camera.appendChild(f);
}
setInterval(criarFlor,3500);

setInterval(()=>{ flores+=auto; atualizar(); },1000);

function uparClique(){ if(flores>=10){flores-=10;porClique++;atualizar();}}
function uparAuto(){ if(flores>=20){flores-=20;auto++;atualizar();}}
function uparFlor(){ if(flores>=30){flores-=30;valorFlor+=2;atualizar();}}

/* ===== C√ÇMERA ARRAST√ÅVEL ===== */
let camX=800, camY=800, drag=false, lx, ly;

game.onmousedown=e=>{drag=true;lx=e.clientX;ly=e.clientY;};
onmouseup=()=>drag=false;
onmousemove=e=>{
  if(!drag)return;
  camX-=(e.clientX-lx);
  camY-=(e.clientY-ly);
  lx=e.clientX; ly=e.clientY;
  camera.style.transform=`translate(${-camX}px,${-camY}px)`;
};
</script>

</body>
</html>
