<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Santa Teresinha Idle</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(#cce7ff, #fdf6e3);
  overflow: hidden;
}

/* HUD */
#hud {
  position: fixed;
  top: 0;
  width: 100%;
  background: rgba(255,255,255,0.95);
  padding: 10px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  z-index: 10;
}

/* √Årea do jogo */
#game {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  cursor: pointer;
}

/* Santa */
#santa {
  width: 240px;
  user-select: none;
  transition: transform 0.15s;
}

#santa.cutucada {
  transform: scale(0.96);
}

/* M√£o */
.mao {
  position: absolute;
  width: 70px;
  pointer-events: none;
  opacity: 0;
  transition: transform 0.4s ease, opacity 0.15s;
}

.mao.ativa {
  opacity: 1;
}
</style>
</head>

<body>

<div id="hud">
  <div>üå∏ Flores: <span id="flores">0</span></div>
  <div>‚ú® Por clique: <span id="porClique">1</span></div>
  <button id="upgrade">Upar (custo: <span id="custo">10</span>)</button>
</div>

<div id="game">
  <img src="santa.png" id="santa" alt="Santa Teresinha">
  <img src="mao.png" id="mao" class="mao">
</div>

<script>
let flores = 0;
let porClique = 1;
let custo = 10;

const floresEl = document.getElementById("flores");
const porCliqueEl = document.getElementById("porClique");
const custoEl = document.getElementById("custo");
const upgradeBtn = document.getElementById("upgrade");

const game = document.getElementById("game");
const santa = document.getElementById("santa");
const mao = document.getElementById("mao");

function atualizarHUD() {
  floresEl.textContent = flores;
  porCliqueEl.textContent = porClique;
  custoEl.textContent = custo;
  upgradeBtn.disabled = flores < custo;
}

game.addEventListener("click", (e) => {
  const rect = game.getBoundingClientRect();

  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;

  flores += porClique;
  atualizarHUD();

  // posi√ß√£o inicial da m√£o (fora da tela)
  mao.style.left = rect.width + "px";
  mao.style.top = rect.height + "px";
  mao.style.transform = "translate(0,0)";
  mao.classList.add("ativa");

  // for√ßa o repaint
  mao.getBoundingClientRect();

  // move a m√£o at√© o ponto clicado
  mao.style.transform = `translate(${x - rect.width - 35}px, ${y - rect.height - 35}px)`;

  // rea√ß√£o da santa
  setTimeout(() => {
    santa.classList.add("cutucada");
  }, 250);

  setTimeout(() => {
    santa.classList.remove("cutucada");
    mao.classList.remove("ativa");
  }, 450);
});

upgradeBtn.addEventListener("click", () => {
  if (flores >= custo) {
    flores -= custo;
    porClique++;
    custo = Math.floor(custo * 1.6);
    atualizarHUD();
  }
});

atualizarHUD();
</script>

</body>
</html>
